@rot
$a=h
a=0
ret=[cos(a),-sin(a),sin(a),cos(a)]

@sim
$a=h
x1=0; y1=0; x2=1; y2=0;
ret=[x1,y1]*[x2-x1,y1-y2,y2-y1,x2-x1]

@afsim
$a=h
x1=0; y1=0; x2=1; y2=0; x3=0; y3=1;
ret=[x1,y1]*[x2-x1,x3-x1,y2-y1,y3-y1]

@G1a
$n=example 1 (fig 1a) {2-factor dendrite}
$dim=2
pi=2*asin(1)
&A=(1|[0.5,0])*0.5*A
r=(5^.5-1)/2
s1=[r^2,0]*r*rot(3*pi/5)
s2=[r^2,0]*r
P0=(1|rot(2*pi/5)*r|[1,0]*rot(4*pi/5))*A
P1=(1|s1|s2)*P0
K=(s1|s2)*K
Z=K|P1

@E5_12345
$dim=2
$n=example 5  {α in [0,7π/8]}
pi=2*asin(1)
t=$number($integer(0,157))
a=t*pi/180
r1=.5/cos(a)
r2=(cos(a)-(cos(a)^2-2*cos(2*a))^.5)/(2*cos(2*a))
r3=[0.707106781186, 0.702809684283, 0.698640868994, 0.694594438854, 0.690664938161, 
    0.686847308377, 0.683136849866, 0.679529188204, 0.676020244405, 0.672606208542, 
    0.669283516290, 0.666048828018, 0.662899010100, 0.659831118167, 0.656842382056, 
    0.653930192265, 0.651092087718, 0.648325744711, 0.645628966879, 0.642999676098, 
    0.640435904199, 0.637935785418, 0.635497549500, 0.633119515397, 0.630800085486, 
    0.628537740272, 0.626331033515, 0.624178587747, 0.622079090143, 0.620031288707, 
    0.618033988750, 0.616086049632, 0.614186381744, 0.612333943709, 0.610527739785, 
    0.608766817449, 0.607050265151, 0.605377210223, 0.603746816930, 0.602158284649, 
    0.600610846173, 0.599103766121, 0.597636339455, 0.596207890092, 0.594817769599, 
    0.593465355972, 0.589966227712, 0.586609115898, 0.583387192595, 0.580294227517, 
    0.577324520365, 0.574472842807, 0.571734388469, 0.569104729648, 0.566579779675, 
    0.564155760062, 0.561829171726, 0.559596769678, 0.557455540707, 0.555402683625, 
    0.553435591748, 0.550378683297, 0.547478095244, 0.544726361223, 0.542116748972, 
    0.539643171135, 0.537300110059, 0.535082554013]
r=if(a-pi/4, if(a-pi/2,r3[t-90],r2), r1)
mir=[1,0,0,-1]
f0=r*rot(a)*mir
f1=[1-r*cos(a),r*sin(a)]*r*rot(-a)*mir
K=(f0|f1)*K


@G6
$n=example 6 {affine triangle}
$dim=2
pi=2*asin(1)
&I=0.5*(1|[1,0])*I
&P0=(1|rot(pi/2)|[1,0]*rot(3*pi/4)*2^.5)*I
&P=(1|[0.5,0]|[0,0.5]|[0.5,0.5]*rot(pi))*0.5*P
f0=afsim(0.55,0.45, 0,0, 1,0)
f1=afsim(0,1, 0,0, 0.45,0.55)
K=(f0|f1)*K
P1=(f0|f1)*P
P2=(f0|f1)*P1
P3=(f0|f1)*P2
P4=(f0|f1)*P3

@E7
$dim=2
$n=example 7
s1=[1,0]*[0.5739495178523937,  0.36898940748180414,-0.36898940748180414 ,0.5739495178523937]
s2=[-1,0]*[0.5739495178523937,  0.36898940748180414,-0.36898940748180414 ,0.5739495178523937]
K=(s1|s2)*K



